<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Myanmar Text Encoding Detector</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
            background-color: #f5f5f5;
        }
        h1 {
            color: #333;
            text-align: center;
        }
        .container {
            background-color: white;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            padding-right: 28px;
        }
        textarea {
            width: 98%;
            height: 150px;
            padding: 10px;
            margin-bottom: 10px;
            border: 1px solid #ddd;
            border-radius: 4px;
            font-size: 16px;
            
        }
        button {
            background-color: #4CAF50;
            color: white;
            padding: 10px 15px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-size: 16px;
        }
        button:hover {
            background-color: #45a049;
        }
        #result {
            margin-top: 20px;
            padding: 15px;
            border-radius: 4px;
            font-weight: bold;
        }
        .unicode {
            background-color: #e8f5e9;
            color: #2e7d32;
        }
        .zawgyi {
            background-color: #fff3e0;
            color: #ef6c00;
        }
        .unknown {
            background-color: #f5f5f5;
            color: #616161;
        }
    </style>
</head>
<body>
    <h1>Myanmar Text Encoding Detector</h1>
    <div class="container">
        <textarea id="inputText" placeholder="Paste your Myanmar text here..."></textarea>
        <button onclick="detectEncoding()">Detect Encoding</button>
        <div id="result"></div>
    </div>

    <script>
        function detectMyanmarEncoding(text) {
            if (!text || typeof text !== 'string' || !text.trim()) {
                throw new Error('Please enter some text to detect.');
            }

            // Unicode markers
            const unicodeMarkers = [
                'ှ', 'ဿ', 'ည်', 'န်', 'ဋ္ဌ', 'င်္', 'ေး', 'ဥ်', 'ိံ', 'ုံ',
                'ွှ', '္က', '္ခ', '္ဂ', '္ဃ', '္စ', '္ဆ', '္ဇ', '္ဈ', '္ဉ',
                '္ဏ', '္တ', '္ထ', '္ဒ', '္ဓ', '္န', '္ပ', '္ဖ', '္ဗ', '္မ', '္လ'
            ];
            
            // Zawgyi markers
            const zawgyiMarkers = [
                'ၾ', 'ႄ', '႔', 'ႏ', '႐', '႑', 'ႃ', 'ႆ', 'ႇ', 'ႈ', 'ႉ', 'ႊ',
                'ၚ', 'ၠ', 'ၡ', 'ၢ', 'ၣ', 'ၥ', 'ၦ', 'ၧ', 'ၨ', 'ၩ',
                'ၪ', 'ၫ', 'ၬ', 'ၭ', 'ၰ', 'ၱ', 'ၲ', 'ၳ', 'ၴ', 'ၵ', 'ၶ', 'ၷ', 'ၸ', 'ၹ', 'ၺ', 'ၻ', 'ၼ'
            ];
            
            // Zawgyi patterns
            const zawgyiPatterns = [
                'ွ်', '်း', 'ၤ', '္း', 'ኲ', 'ေ်', 'ၿ', 'ႀ', 'ႁ', 'ႎ', 'ႍ'
            ];
            
            let unicodeScore = 0;
            let zawgyiScore = 0;
            
            // Check for Unicode markers
            unicodeMarkers.forEach(marker => {
                const count = (text.match(new RegExp(marker, 'g')) || []).length;
                unicodeScore += count;
            });
            
            // Check for Zawgyi markers
            zawgyiMarkers.forEach(marker => {
                const count = (text.match(new RegExp(marker, 'g')) || []).length;
                zawgyiScore += count;
            });
            
            // Check for Zawgyi patterns
            zawgyiPatterns.forEach(pattern => {
                const count = (text.match(new RegExp(pattern, 'g')) || []).length;
                zawgyiScore += count * 2;
            });
            
            // Calculate confidence
            const totalScore = unicodeScore + zawgyiScore;
            let confidence = 0;
            let result = "Unknown";
            
            if (totalScore > 0) {
                if (unicodeScore > zawgyiScore) {
                    confidence = (unicodeScore / totalScore) * 100;
                    result = "Unicode";
                } else if (zawgyiScore > unicodeScore) {
                    confidence = (zawgyiScore / totalScore) * 100;
                    result = "Zawgyi";
                }
            }
            
            return {
                encoding: result,
                confidence: Math.round(confidence),
                unicodeScore,
                zawgyiScore
            };
        }

        function detectEncoding() {
            const textArea = document.getElementById('inputText');
            const resultDiv = document.getElementById('result');
            
            try {
                const result = detectMyanmarEncoding(textArea.value);
                
                // Remove any existing classes
                resultDiv.classList.remove('unicode', 'zawgyi', 'unknown');
                
                // Add appropriate class based on result
                resultDiv.classList.add(result.encoding.toLowerCase());
                
                // Display result
                resultDiv.innerHTML = `
                    Detected Encoding: ${result.encoding}<br>
                    Confidence: ${result.confidence}%<br>
                    Unicode Score: ${result.unicodeScore}<br>
                    Zawgyi Score: ${result.zawgyiScore}
                `;
            } catch (error) {
                resultDiv.classList.remove('unicode', 'zawgyi');
                resultDiv.classList.add('unknown');
                resultDiv.textContent = error.message;
            }
        }
    </script>
</body>
</html>
